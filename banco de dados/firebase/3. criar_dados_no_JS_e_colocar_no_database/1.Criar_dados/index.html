<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Criar dados na coleção do database</title>

</head>

<body>
    <!-- -----------------------------------------------------estrutura de codigo visto na pasta anterior: conectar o projeto com o banco de dados do firebase--------->
    <!-- 2° PARTE:copiar o codigo da biblioteca do firebase e colocar aqui-->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <!-- 1° PARTE: criar um arquivo javascript interno no html / depois copiar o codigo firebaseConfig do tipo npm e colocar aqui   -->
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyD-dYTiaxwADWUOu69B7jZC4_qmBz7pLSU",
            authDomain: "projeto-teste-e5a52.firebaseapp.com",
            projectId: "projeto-teste-e5a52",
            storageBucket: "projeto-teste-e5a52.appspot.com",
            messagingSenderId: "186244678707",
            appId: "1:186244678707:web:7dc03f5de5505bf9bfcf46",
            measurementId: "G-GNESNWR3RM"
        };
        //3° PARTE:copiar o codigo de Inicializar o Cloud Firestore
        firebase.initializeApp(firebaseConfig);
        //-------------------------------------------------------------------------------------------------------------------------------------------------------------

        // ler todos os dados de uma coleção do banco de dados (usado em ambos os metodos abaixo)
        let bancoDados = firebase.firestore(); // criar uma variavel onde sera atribuido o firebase e um metodo que retorna uma referencia para o banco de dados [o metodo é o .farestore()]  


                 //[ OBS: PARA FAZER FUNCIONAR DEVE COMENTAR O METODO QUE NAO SERA USADO]


        //1° METODO PARA CRIAR UM DADO NA COLEÇÃO
        //-( sem se ligar para o nome do id do dado criado)-----------------------------------------------
        //sera alterado apenas o nome da coleção ("alunos") e as chaves e seus valores (Nome: "sandra", Idade: 20,Notas: { nota1: 5.2, nota2: 8.0 })

        bancoDados.collection("alunos").add({

            //colocar aqui as chaves e os valores a ser criados 
            Nome: "sandra",
            Idade: 20,
            Notas: { nota1: 5.2, nota2: 8.0 }

        }).then((doc) => {
            //mostra uma mensagem que já foram criado os dados
            console.log("documento criado com sucesso:", doc)

        }).Catch(err => {
            //Caso de algum erro vai ser mostrado uma mensagem para o usuário
            console.log(err)
        })
        //-------------------------------------------------------------------------------------------------




        //2° METODO PARA CRIAR UM DADO NA COLEÇÃO
        //-(colocando nome para do id para o dado criado)----------------------------------------------- 
        //sera alterado apenas o nome da coleção ("alunos") ; e o nome para o id .doc("sandra") ; e as chaves e seus valores (Nome: "sandra", Idade: 20,Notas: { nota1: 5.2, nota2: 8.0 })
        bancoDados.collection("alunos").doc("sandra").set({

            Nome: "sandra",
            Idade: 20,
            Notas: { nota1: 5.2, nota2: 8.0 }

        }).then((doc) => {
            //mostra uma mensagem que já foram criado os dados
            console.log("documento criado com sucesso:", doc)
        }).Catch(err => {
            //Caso de algum erro vai ser mostrado uma mensagem para o usuário
            console.log(err)
        })
      //-------------------------------------------------------------------------------------------------
   </script>










    <link rel="stylesheet" href="./script-3.js">
</body>


</html>